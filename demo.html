<body></body>
<script>
    // "use strict"
    let a = 20,
        b = 30;

    function divide(a, b) {
        if (b == 0) {
            throw 'Division by zero';
        }
        return a / b;
    }

    // console.log(divide(20, 0))

    let items = [1, 2, 3];

    for (let item of items) {
        console.log(item)
    }
    //thuộc tính async ko đảm bảo file script đc thực thi theo thứ tự mà nó xuất hiện
    // thuộc tính defer chờ cho đến khi trình duyệt nhận thẻ đóng /html thì mới thực thi

    var ab30add = 'adss'
    // nên dùng let để khai báo biến

    let message;
    // console.log(message)
    // console.log("Dsadsad")
    // console.log(counter)
    let counter = 120;
    counter = false;
    counter = 'foo';
    console.log(typeof counter)
    console.log(typeof abcdefdsadsa);

    let obj = null;
    console.log(typeof obj); //trả về object là 1 bug trong JS, do lo ngại nó break nhiếu site đã tồn tại
    console.log(null == undefined)

    let price = 200.00;
    console.log(price)
    console.log(typeof price)
    // thông dịch(interpreter) dịch từng lệnh 1 thông qua chương trình ta gọi là trình thông dịch(interpreter)
    // lần sau chạy lại thì phải trình thông dịch lại. file <br>
    // Biên dịch(compiler) dịch toàn bộ thông qua chương trình ta gọi là trình biên dịch(compiler),
    // dịch 1 lần và sử dụng mãi mãi không cần biên dịch nữa.  <br>lấy ví dụ thực tế:<br>
    // - (interpreter) giống như thông dịch viên . doanh nhân Việt Nam đi làm ăn đối tác nước ngoài cần người thông dịch viên
    // và lần sau vẫn cần có người thông dịch viên.<br>
    // - (compiler) giống như nhà biên dịch dịch cuốn sách tiếng anh sang tiếng việt chỉ dịch 1 lần nhưng có thể in bán ra hàng ngàn cuốn.</div>

    console.log(Number.MAX_VALUE + Number.MAX_VALUE);
    console.log(-Number.MAX_VALUE - Number.MAX_VALUE);

    console.log(NaN / 2);
    console.log(NaN == NaN)

    let s = 'Javascript';
    s[0] = 'j';
    console.log(s)

    console.log(Boolean(0));

    let s1 = Symbol();
    console.log(Symbol() == Symbol());

    let pageView = 123n;
    console.log(typeof pageView)

    let contact = {
        firstName: 'John',
        lastName: 'Doe',
        email: 'abc@gmail.com',
        phone: '121212121',
        address: {
            building: 4000,
            street: 'HN',
            city: 'San abc',
            state: 'CA',
            country: 'USA'
        },
        "first-name": 'sadsadsa'
    }

    console.log(contact.firstName);
    console.log(contact['first-name']);

    let num = 071;
    console.log(num); //57 = 0 * 8^2 + 7 * 8^1 + 1 * 8^0
    let num2 = 080;
    console.log(num2); //80
    let num3 = 0o71;
    console.log(num3)
    // let num4 = 0o80;
    // consol

    let num4 = 0x1a;
    console.log(num4); //26 = 1 * 16^1 + 10 * 16^0

    let amount = 3.14e7;
    console.log(amount)
    let amount2 = 5e-7;
    console.log(amount2)
    let amount3 = 0.0000005;
    console.log(amount3);

    let amount4 = 0.2 + 0.1;
    console.log(amount4)

    let pageView1 = 12123n;
    console.log(pageView1)

    const budget = 1000000000;
    console.log(budget)
    const budget2 = 1_000_000_000;
    console.log(budget2)

    let amount5 = 120_121_122.05;
    console.log(amount5)

    const max1 = 9_123_456n;
    const max2 = 0b01010101;
    const max3 = 0o12;
    const max4 = 0x124abc;


    let aa = 051;
    console.log(aa)

    let bb = 058;
    console.log(bb)

    // let cc = 0o58;
    // console.log(cc)

    let e = parseInt('111', 2);
    console.log(e)

    let error = 'An error occurred';
    let hasError = Boolean(error)
    console.log(hasError)

    let str = 'Hi';
    let name1 = `John \t \t \\ abcdef \r\n dsadsadsa  \n new line`; //es6
    let message11 = `I'm good, hello "manhnv"`;
    console.log(message11)

    let messsage2 = `Hi, I'm ${name1}`;
    console.log(messsage2)


    let str2 = "Hello";
    console.log(str2[0])
    console.log(str2[str2.length - 1]);

    let number2 = 123;
    console.log(typeof number2)
    let var1 =  number2.toString() //String(number2);
    console.log(typeof var1);

    let status = false;
    let str1 = status.toString();
    console.log(str1)
    let back = Boolean(str1);
    console.log(back)


    let result1 = 'a' < 'b';
    console.log(result1)

    let address2 = {
        "building no": 3960,
        street: 'North i1st street',
        state: 'CA',
        country: 'USA'
    }
    console.log(address2)
    console.log(address2["building no"]);
    address2.state = 'ABC';
    address2.def = 'dasdsadsa';

    delete address2.country;

    console.log(address2)
    // console.log(address2.'building no');


    let employee1 = {
        firstName: 'Peter',
        lastName: 'Doe',
        employeeId: 1
    }

    console.log('ssn' in employee1)
    console.log('employeeId' in employee1)
    // kiểu dữ liệu nguyên thủy lưu trong stack
    // kiểu object lưu trong heap

    let person1 = {
        name: 'John',
        age: 25
    };

    person1.ssn = '123-456';
    person1.name = 'John edit';
    console.log(person1);

    delete person1.age;

    console.log(person1)

    let name11 = 'Hohn';
    name11.alias = 'abc';
    console.log(name11.alias)

    let age2 = 25;
    let newAge = age2;

    newAge = newAge + 1;
    console.log(age2, newAge)


    let person3 = {
        name: 'john',
        age: 25
    };

    let member3 = person3;
    member3.age = 26;
    console.log(person3)
    console.log(member3)

    let scores = new Array(10);
    console.log(scores)
    console.log(typeof scores)

    let scores1 = new Array(1, 2, 3, 4, 5);
    console.log(scores1)

    let arr1 = new Array(3);
    let arr2 = new Array(1, 2, 3)
    let arr3 = new Array('Red')
    console.log(arr1, arr2, arr3)


    let arr4 = Array();
    console.log(arr4)

    let colors = ['red', 'blue', 'white'];
    console.log(colors)

    let mountains = ['a', 'b', 'c'];
    console.log(mountains)
    console.log(mountains[0])
    console.log(mountains[1])
    console.log(mountains[2])
    mountains[2] = 'cccc';
    console.log(mountains)

    console.log(mountains.length)



    let seas = ['Black Sea', 'Caribbean Sea', 'North Sea', 'Baltic Sea'];
    console.log(seas)
    seas.push('Red Sea');
    console.log(seas)

    seas.unshift('Red Sea')
    console.log(seas)

    const lastElement = seas.pop();
    console.log(lastElement);
    console.log(seas)

    const firstElement = seas.shift();
    console.log(firstElement);
    console.log(seas)

    let index = seas.indexOf('North Sea');
    console.log(index)

    let isArray = Array.isArray(seas);
    console.log(isArray)


    let energy = {
        valueOf() {
            return 100;
        }
    }

    let currentEnergy = energy - 10;
    console.log(currentEnergy)


    let b1 = false;
    let result4 = b1 && (1/0);
    console.log(result4)


    let title1;
    title1 ||= 'untitled'; // title1 || (title1 = 'untitled'), neu ben trai false thi moi gan, nguoc lai true thi ko gan
    console.log(title1)

    let person4 = {
        firstName: 'Jane',
        lastName: 'Doe'
    };

    person4.lastName &&= 'Smith'; // neu ben trai true thi moi gan, nguoc lai false thi ko gan
    console.log(person4);

    let user4 = {
        username: 'Satoshi',
        nickname: null
    };
    user4.nickname ??= 'anonymous'; // // user4.nickname ?? (user4.nickname = 'anonymous'), chi gan neu null hoac undefined
    console.log(user4);


    const name5 = null ?? 'John';
    console.log(name5)

    const age5 = undefined ?? 28;
    console.log(age5)

    let count6;
    let result6 = count6 || 1; //neu ben trai false thi moi gan bang ben phai
    console.log(result6)

    let result7 = null ?? console.log('Hi');
    // console.log(result7)

    const result8 = (null || undefined) ?? 'OK';
    console.log(result8)


    let cal1 = Math.pow(2, 3);
    console.log(cal1)

    let cal2 = 2 ** 4;
    console.log(cal2)

    let cal3 = (-2) ** 3;
    console.log(cal3)


    let authenticated = true;
    let nextURL = authenticated
    ? (a1 = 4, a2 = 55, '/admin', 'ghi', console.log('dsadsads'), 'abc'.indexOf('c'))
        : (alert('ACcess denied', '/403'))
    console.log(a1)
    console.log(a2)
    console.log(nextURL)

    let colors1 = ['red', 'green', 'blue'];
    let rgb1 = [...colors1];
    console.log(rgb1);

    let rgb2 = ['red', 'green', 'blue'];
    let cmyk2 = ['cyan', 'magenta', 'yellow', 'black'];
    let merge2 = [...rgb2, ...cmyk2];
    console.log(merge2)

    const circle3 = {
        radius: 10
    };
    console.log(circle3)

    const coloredCircle = {
        ...circle3,
        color: 'black'
    }
    console.log(coloredCircle);

    const circle4 = {
        radius: 100,
        abc: '123',
        def: '456'
    }

    const clonedCircle = {...circle4};
    console.log(circle4)


    const circle5 = {
        radius: 10,
        style: {
            color: 'blue'
        }
    };
    const clonedCircle5 = {
        ...circle5
    }
    console.log(clonedCircle5);


    const circle6 = {
        radius: 10
    };

    const style6 = {
        backgroundColor: 'red'
    };

    const solidCircle6 = {
        ...circle6,
        ...style6
    }
    console.log(solidCircle6)

    class Circle7 {
        constructor(radius) {
            this.radius = radius;
        }

        set diameter(value) {
            this.radius = value / 2;
            console.log('SET', value);
        }

        get diameter() {
            return this.radius * 2;
        }
    }

    let circle7 = new Circle7(100);
    console.log(circle7)

    // Object.assign goi ham setter trong khi ... ko goi khi clone
    let cloneCircle1 = Object.assign(circle7, {
        diameter: 200
    })

    let cloneCircle2 = {
        ...circle7
    }
    console.log(cloneCircle1)
    console.log(cloneCircle2)

    const blueSquare = {
        length: 100,
        color: 'blue'
    }

    Object.defineProperty(blueSquare, 'color', {
        value: 'blue',
        enumerable: true,
        writable: false
    })

    Object.defineProperty(blueSquare, 'test', {
        value: 'manhnv1',
        enumerable: true,
        writable: false
    })


    console.log(blueSquare)

    const style1 = {
        color: 'green'
    };

    const greenSquare = {
        ...blueSquare,
        ...style1
    };
    console.log(greenSquare)

    // Object assign ko the thao tac voi gia tri chi doc
    // const redSquare = Object.assign(blueSquare, {
    //     color: 'red'
    // })
    // console.log(redSquare)

    let day = '3'
    let dayName;
    //su dung so sanh tuyet doi ===
    switch (day) {
        case '3': dayName = ' Tuesday'; break;
        default: dayName = 'Invalid day';
    }
    console.log(dayName)

    // Queue giong phuc vu khach hang o bank, FIFO, stack = LIFO

    class Queue {
        constructor() {
            this.elements = {};
            this.head = 0;
            this.tail = 0;
        }

        enqueue(element) {
            this.elements[this.tail] = element;
            this.tail++;
        }

        dequeue() {
            const item = this.elements[this.head];
            delete this.elements[this.head];
            this.head++;
            return item;
        }

        peek() {
            return this.elements[this.head];
        }

        get length() {
            return this.tail - this.head;
        }

        get isEmpty() {
            return this.length === 0;
        }
    }

    let q = new Queue();
    for (let i = 4; i <= 11; i++) {
        q.enqueue(i);
    }
    console.log(q)
    // console.log(q.peek())

    while(!q.isEmpty) {
        console.log(q.dequeue())
    }
    console.log(q)

    let result = (10, 10 + 20);
    console.log(result)

    function add() {
        let sum = 0;
        for (let i = 0; i < arguments.length; i++) {
            sum += arguments[i];
        }
        return sum;
    }

    // Paramerter = tham so cua ham  vs argument = truyen gia tri vao ham
    // Khong them cap ngoac de ko thuc thi
   let sum  = add;
    console.log(sum)

    let result88 = sum(1, 2);
    console.log(result88)


    function average(a, b, fn) {
        return fn(a,b) / 2;
    }

    let result10 = average(10, 20, sum);
    console.log(result10)


    function compareBy(propertyName) {
        return function (a,b) {
            let x = a[propertyName], y = b[propertyName];
            if (x > y) {
                return 1;
            } else if (x < y) {
                return -1;
            } else {
                return 0;
            }
        }
    }


    let products = [
        {name: 'iPHone', price: 900},
        {name: 'Samsung Galaxy', price: 850},
        {name: 'Sony Xperia', price: 700}
    ];

    console.log('Products sorted by nam:');
    products.sort(compareBy('name'))

    console.table(products)


    function cmToIn(length) {
        return length / 2.54;
    }

    function inToCm(length) {
        return length * 2.54;
    }

    function convert(fn, length) {
        return fn(length)
    }

    let inches = convert(cmToIn, 10);
    console.log(inches)

    let centimeters = convert(inToCm, 20);
    console.log(centimeters)

    // (function() {
    //     console.log('anonymous function')
    // });

    let show = function() {
        console.log('anonymous function');
    }
    show();
    setTimeout(function() {
        console.log('Execute later after 1 second');
    }, 1000);


    (function() {
        console.log('IIFE')
    })();


    let person333 = {
        firstName: 'John',
        lastName: 'Doe'
    };

    (function() {
        console.log(person333.firstName + ' ' + person333.lastName)
    }) ();

    let show1 = function() {
        console.log('anonymous function');
    }

    let show2 = () => console.log('Anonymous function11111');
    show2();

    let add2 = function (a, b) {
        return a+b;
    }

    let add3 = (a,b) => a+b;
    // Ham trong JS chi truyen value, ko tham chieu


    let person44 = {
        name: 'John',
        age: 25
    };

    function increaseAge(person44) {
        person44.age += 1;
    }
    increaseAge(person44);
    console.log(person44)


    let person55 = {
        name: 'John',
        age: 25
    };

    function increaseAge1(obj) {
        obj.age += 1;

        obj = {name: 'Jane', age: 22};
    }

    increaseAge1(person55);
    console.log(person55)


    function countDown(fromNumber) {
        console.log(fromNumber);

        let nextNumber = fromNumber - 1;
        if (nextNumber > 0) {
            countDown(fromNumber - 1)
        }
    }
    countDown(3)

    // let newYearCountDown = countDown;
    // countDown = null;
    // newYearCountDown(10)

    let countDown1 = function f(fromNumber) {
        console.log(fromNumber)
        let nextNumber = fromNumber - 1;
        if (nextNumber > 0) {
            f(nextNumber)
        }
    }

    let newYearCountDown1 = countDown1;
    countDown1 = null;
    newYearCountDown1(10)


    function sum1(n) {
        if (n <= 1) {
            return n;
        }
        return n + sum(n-1);
    }
    console.log(sum1(4))

    function say(message = 'Hi') {
        console.log(message)
    }
    say();
    say('Hello')

    function say1(message) {
        message = typeof message !== 'undefined' ? message : 'Hi'
        console.log(message)
    }
    say1();

    function createDiv(height = '100px', width = '100px', border = '1px solid red') {
        let div = document.createElement('div');
        console.log(div)
        div.style.height = height;
        div.style.width = width;
        div.style.border = border;
        document.body.appendChild(div);
        return div;
    }
    createDiv()

    createDiv(undefined, undefined, '2px solid blue')


    function put(toy, toyBox = []) {
        toyBox.push(toy);
        return toyBox;
    }

    console.log(put('Toy Car'))

    console.log(put('Teddy Car'))


    function date(d = today()) {
        console.log(d)
    }

    function today() {
        return (new Date().toLocaleDateString('en-US'))
    }

    date();


    function requiredArg() {
        throw new Error('The argument is required');
    }

    function add1(x = requiredArg(), y = requiredArg()) {
        return x + y;
    }

    console.log(add1('dsa', 'bv'))


    function add33(x = 1, y = x, z = x + y) {
        return z + y + z;
    }
    console.log(add33())


    function subtract(x = y, y = 1) {
        return x - y;
    }
    console.log(subtract(10))

    let taxRate = () => 0.1;
    let getPrice = function(price, tax = price * taxRate()) {
        return price + tax
    }
     let fullPrice = getPrice(100)
    console.log(fullPrice)


    function add222(x, y = 1, z = 2) {
        console.log(arguments.length)
        return x + y + z;
    }
    add222(10)


    let persona = {
        firstName: 'John',
        lastName: 'Doe'
    }

    persona.greet = function() {
        console.log('Hello')
    }

    persona.greet()


    let personb = {
        firstName: 'John',
        lastName: 'Doe'
    }

    function greet() {
        console.log('Hello, World')
    }

    personb.greet = greet;

    personb.greet();


    let personc = {
        firstName: 'John',
        lastName: 'Doe',
        greet: function() {
            console.log('Hello World')
        }
    }

    let persond = {
        firstName: 'John',
        lastName: 'Doe',
        greet() {
            console.log('Hello World')
        }
    }


    let persone = {
        firstName: 'John',
        lastName: 'Doe',
        greet: function() {
            console.log('Hello World')
        },
        getFullName: function() {
            return this.firstName + ' ' + this.lastName
        }
    }

    console.log(persone.getFullName())

    function Person(firstName, lastName) {
        this.firstName = firstName;
        this.lastName = lastName
    }

    let pa = new Person('John', 'Doe');
    console.log(pa)

    let pa1 = new Person('Jane', 'Doe');
    let pa2 = new Person('James', 'Smith')


    function Person1(firstName, lastName) {
        this.firstName = firstName;
        this.lastName = lastName;
        this.getFullName = function() {
            return this.firstName + ' ' + this.lastName
        }
    }

    let personc1 = new Person1('John', 'Doe');
    console.log(personc1.getFullName())


    let person2 = Person1('a', 'b');
    console.log(person2)


    function Person3(firstName, lastName) {
        console.log(new.target);

        if (!new.target) {
            throw Error('Cannot be called without the new keyword')
        }

        this.firstName = firstName;
        this.lastName = lastName;
        this.getFullName = function() {
            return this.firstName + ' ' + this.lastName;
        }
    }

    // let personf = Person3('nguyen viet', 'manh');

    let persong = new Person3('abc', 'def');
    console.log('dsdsaads')


    function Person4(firstName, lastName) {
        if (!new.target) {
            return new Person4(firstName, lastName)
        }
        this.firstName = firstName;
        this.lastName = lastName;
    }

    let personn = new Person4('John', 'Doe');
    let personm = Person4('aaa', 'bbbb')
    console.log(personn.lastName)
    console.log(personm.lastName)

    let persono = {
        'name': 'John'
    };
    console.log(persono)
    console.log(persono.toString());

    console.log(typeof(Object))

    // Khi tim phuong thuc voi doi tuong, neu ko co thi tim trong Prototype
    console.log(Object.prototype)

    console.log(Object.prototype.constructor)
    console.log(Object.prototype.hasOwnProperty)


    function PersonA(name) {
        this.name = name;
    }

    console.log(PersonA)
    console.log(PersonA.prototype)

    PersonA.prototype.greet = function() {
        return "Hi, I'm " + this.name + "!"
    }

    let personA = new PersonA('john');
    console.log(personA)

    let greeting1 = personA.greet();
    console.log(greeting1)

    let greeting2 = personA.toString();
    console.log(greeting2)

    // greeting2.fly();

    let p2 = new PersonA('Jane');
    p2.draw = function() {
        return 'I can draw';
    }
    p2.draw();
    // personA.draw()
    console.log(Object.getPrototypeOf(p2));
    console.log(p2.__proto__)
    console.log(p2.constructor.prototype)
    console.log(p2.constructor)


    function Person_1(firstName, lastName) {
        this.firstName = firstName;
        this.lastName = lastName;
    }

    Person_1.prototype.getFullname = function() {
        return this.firstName + ' ' + this.lastName;
    }

    let person_1_1 = new Person_1('John', 'Doe');
    let person_1_2 = new Person_1('Jane', 'Doe');
    console.log(person_1_1.getFullname())
    console.log(person_1_2.getFullname())


    // Thay the cho viec dung function va patter thi dung class cua ES6
    class PersonAA {
        constructor(firstName, lastName) {
            this.firstName = firstName;
            this.lastName = lastName;
        }

        getFullname() {
            return this.firstName + ' ' + this.lastName;
        }
    }

    let personA_1 = new PersonAA('John', 'Doe');
    personA_1.abc = function() {
        return 'abc';
    }
    let personA_2 = new PersonAA('Jane', 'Doe');
    console.log(personA_1.abc());
    console.log(personA_1.getFullname())
    console.log(personA_2.getFullname())

    //JS ko su dung ke thua co dien, ma dung ke thua prototype

    let person_aa = {
        name: 'John Doe',
        greet: function() {
            return "Hi, I'm " + this.name
        }
    }
    console.log(person_aa.toString())
    console.log(person_aa.__proto__)
    console.log(person_aa.__proto__ === Object.prototype)


    let teacher = {
        teach: function (subject) {
            return "I can teach " + subject
        }
    }
    // Chu y ko su dung __proto__ trong thuc te
    teacher.__proto__ = person_aa;
    console.log(teacher.__proto__ === Object.prototype)
    console.log(teacher.greet())

    console.log(teacher.__proto__ === person_aa.__proto__)

    let person_bb = {
        name: 'john doe',
        greet: function() {
            return "Hi, I'm " + this.name
        }
    };

    let teacher_bb = Object.create(person_bb);
    console.log(teacher_bb)

    teacher_bb.name = 'Jane Doe';
    teacher_bb.teach = function (subject) {
        return 'I can teach ' + subject;
    }

    console.log(teacher_bb.teach('PHP'))
    console.log(teacher_bb)

    let teacher_cc = Object.create(person_bb, {
        fullname: { value: 'abc'},
        email: {value: 'def' },
        teach: {value: function() { return 'dsadsadsa'}}
    })
    console.log(teacher_cc)

    console.log(Object.getPrototypeOf(teacher_cc))
    console.log(person_bb)
    console.log(Object.getPrototypeOf(teacher_cc) === person_bb)

    // this hoat dong trong global va function, khac voi cac ngon ngu khac la chi trong class

    let counter1 = {
        count: 0,
        next: function() {
            return ++this.count
        }
    };
    counter1.next()


    console.log(this === window)
    this.color = 'Red'
    console.log(this)


    function show_aa() {
        "use strict";
        //no strict, this la window ben trong ham, nguoc lai la undefined
        console.log(this)
        console.log(this === window)
    }
    show_aa()
    // window.show_aa()


    let car_aa = {
        brand: 'Honda',
        getBrand: function() {
            return this.brand
        }
    }
    console.log(car_aa.getBrand())

    let brand_aa = car_aa.getBrand;
    console.log(brand_aa())

    let brand_bb = car_aa.getBrand.bind(car_aa);
    console.log(brand_bb())


    let car_cc = {
        brand: 'Honda',
        getBrand: function() {
            return this.brand;
        }
    }

    let bike_cc = {
        brand: 'Harley Davidson'
    }

    // set this toi doi tuong bike_cc
    let brand_cc = car_cc.getBrand.bind(bike_cc);
    console.log(brand_cc())


    function CarDD(brand) {
        if (!(this instanceof CarDD)) {
            throw Error('Must use the new operator to call the function')
        }

        // ES6
        if (!new.target) {
            throw Error('Must use the new operator to call the function')
        }

        this.brand = brand;
    }

    CarDD.prototype.getBrand = function() {
        return this.brand;
    }

    let car_dd = new CarDD('Honda');
    console.log(car_dd.getBrand())

    // Neu bo new thi this = window, bao loi
    // let bmw_dd = CarDD('BMW');
    // console.log(bmw_dd)
    // console.log(bmw_dd.brand)
    //
    // console.log("Dsadsads")


    function getBrand(prefix, suffix) {
        console.log(prefix + this.brand + " " + suffix);
    }

    let honda = {
        brand: 'Honda'
    }

    let audi = {
        brand: 'Audi'
    }
     let abdef = getBrand;
    abdef.call(honda, "It's a ", 'xccccccccccccccc');
    abdef.call(audi, "It's an ")

    abdef.apply(honda, ["Its'", "dsadsa"]);
    abdef.apply(audi, ["Its'", "dsadsa"]);


    let getThis = () => this;
    console.log(getThis() === window)


    function CarEE() {
        this.speed = 120;
    }

    CarEE.prototype.getSpeed = () => {
        // console.log(this)
        return this.speed;
    }

    var car_ee = new CarEE();
    console.log(car_ee.getSpeed())
    console.log(globalThis)

    const canFetch = typeof globalThis.fetch === 'function'
    console.log(canFetch)

    let person_ff = {
        firstName: 'John',
        lastName: 'Doe'
    };
    console.log(person_ff)


    let person_gg = {};
    person_gg.age = 25;
    console.log(person_gg)

    delete person_gg.age;
    console.log(person_gg)


    let person_hh = {};
    Object.defineProperty(person_hh, 'ssn', {
        configurable: false,
        value: '012-345-567'
    })
    console.log(person_hh)
    delete person_hh.ssn;
    console.log(person_hh)

    // define lai thuoc tinh da configurable = false se bao loi
    // Object.defineProperty(person_hh, 'ssn', {
    //     configurable: true
    // })



    let person_ii = {}
    person_ii.age = 25;
    person_ii.ssn = '012-345-567';
    for (let property in person_ii) {
        console.log(property)
    }

    let person_jj = {};
    person_jj.age = 25;
    person_jj.ssn = '012-345-678';

    Object.defineProperty(person_jj, 'ssn', {
        enumerable: false
    });

    for (let proper in person_jj) {
        console.log(proper)
    }

    let person_kk = {
        firstName: 'John',
        lastName: 'Doe'
    };

    Object.defineProperty(person_kk, 'fullName', {
        get: function() {
            return this.firstName + ' ' + this.lastName
        },
        set: function (value) {
            let parts = value.split(' ')
            if (parts.length == 2) {
                this.firstName = parts[0];
                this.lastName = parts[1]
            } else {
                throw 'Invalid name format';
            }
        }
    });
    person_kk.fullName = 'dsad sa';
    console.log(person_kk)
    console.log(person_kk.fullName)

    let product1 = {};
    Object.defineProperties(product1, {
        name: {
            value: 'Smartphone'
        },
        price: {
            value: 799
        },
        tax: {
            value: 0.1
        },
        netPrice: {
            get: function() {
                return this.price * (1 + this.tax)
            }
        }
    })

    console.log('The net price of a ' + product1.name + ' is ' + product1.netPrice.toFixed(2) + ' USD')


    let person_ll = {
        firstName: 'John',
        lastName: 'Doe'
    }

    let descriptor = Object.getOwnPropertyDescriptor(person_ll, 'firstName');
    console.log(descriptor)
    console.log(Object.getOwnPropertyDescriptor(person_kk, 'fullName'))


    var person_mm = {
        firstName: 'John',
        lastName: 'Doe',
        ssn: '123-456'
    };

    for (var prop in person_mm) {
        console.log(prop + ':' + person_mm[prop])
    }

    var decoration = {
        color: 'red'
    }

    var circle = Object.create(decoration);
    circle.radius = 10;

    for (const prop in circle) {
        // console.log(prop)
        if (circle.hasOwnProperty(prop)) {
            console.log(prop)
        }
    }



    const items1 = [10, 20, 30];
    let total = 0;

    for (const item in items1) {
        total += items1[item];
    }
    console.log(total)

    // Set thuoc tinh o prototype nen for in se co them thuoc tinh moi, de nham lan
    Array.prototype.foo = 100;
    const items2 = [10, 20, 30];
    let total2 = 0;

    for (var prop in items2) {
        console.log({prop, value: items2[prop]})
        total2 += items2[prop];
    }
    console.log(total2)

    var arr = [];
    arr[2] = 3;
    console.log(arr)

    for (let i = 0; i < arr.length; i++) {
        console.log(arr[i])
    }

    for (const key in arr) {
        console.log(key + ": " + arr[key])
    }
    //ko dung for in de lap mang

    const person_nn = {
        firstName: 'John',
        lastName: 'Doe'
    }

    person_nn.age = 25;

    Object.defineProperty(person_nn, 'lastName', {
        enumerable: false,
        value: 'sdadsadsad'
    })

    Object.defineProperty(person_nn, 'ssn', {
        enumerable: false,
        value: '122121'
    })
    // enumerable cho phep hien thi trong for in va Objects.key()

    for (const key in person_nn) {
        console.log(key)
    }

    console.log(person_nn.propertyIsEnumerable('firstName'));
    console.log(person_nn.propertyIsEnumerable('lastName'));
    console.log(person_nn.propertyIsEnumerable('ssn'));

    const person_oo = {
        firstName: 'John',
        lastName: 'Doe'
    }

    const employee_oo = Object.create(person_oo, {
        job: {
            value: 'JS Developer',
            enumerable: true
        }
    })

    console.log(person_oo)
    console.log(employee_oo)

    console.log(person_oo.hasOwnProperty('firstName'))
    console.log(person_oo.hasOwnProperty('lastName'))
    console.log(person_oo.hasOwnProperty('dfssaddsad'))

    console.log(employee_oo.hasOwnProperty('job'))
    console.log(employee_oo.hasOwnProperty('firstName'))

    const person_pp = {
        firstName: 'John',
        lastName: 'Doe',
        age: 25
    };
    Object.prototype.test = 'dsadsadsa';
    // console.log(person_pp)
    //trc ES2017
    for (const key in person_pp) {
        // console.log(key)
        if (person_pp.hasOwnProperty(key)) {
            const value = person_pp[key]
            console.log(value)
        }
    }

    const person_qq = {
        firstName: 'John',
        lastName: 'Doe',
        age: 25
    }
    // for in lap toan bo thuoc tinh hien tai va prototy, con Object.values chi lap thuoc tinh hien tai cua obj
    const profile_qq = Object.values(person_qq);
    console.log(profile_qq)


    const ssn_rr = Symbol('ssn');
    const person_rr = {
        firstName: 'John',
        lastName: 'Doe',
        age: 25,
        [ssn_rr]: '123456'
    }

    // ham entries khac voi for in la ko lap tren prototy chain
    const kv = Object.entries(person_rr);
    console.log(kv)

    let widget = {
        color: 'red',
        abc: {
            def: 'ghi'
        }
    };

    let clonedWidget = Object.assign({}, widget);
    console.log(clonedWidget)


    // ES6: Object.assign dung de clone hoac merge 1 object
    let box = {
        width: 10,
        height: 20,
    }

    let style = {
        color: 'Red',
        borderStyle: 'solid'
    };

    let styleBox = Object.assign({}, box, style)
    console.log(styleBox)

    // Object.is giong === tru 2 gia tri +0 -0 va NaN
    let amount_a = +0;
    let volume_a = -0;
    console.log(amount_a === volume_a)
    console.log(3 === '3');
    console.log(Object.is(3, '3'));
    console.log(Object.is(amount_a, volume_a));

    let quantity_a = NaN;
    console.log(quantity_a === quantity_a)
    console.log(Object.is(quantity_a, quantity_a))

    let person_f = {
        firstName: 'John',
        lastName: 'Doe',
        getFullname() {
            return this.firstName + ' ' + this.lastName;
        }
    }
    console.log(person_f.getFullname())

    let person_g = {
        firstName: 'John',
        lastName: 'Doe',
        getFullname() {
            return this.firstName + ' ' + this.lastName;
        }
    }
    console.log(person_g.getFullname())


    function createPerson(firstName, lastName) {
        return {
            firstName: firstName,
            lastName: lastName,
            getFullName() {
                return firstName + ' ' + lastName
            }
        }
    }

    let person11 = createPerson('John', 'Doe');
    let person22 = createPerson('Jane', 'Doe');
    console.log(person11)
    console.log(person22)

    function createPerson2(firstName, lastName) {
        return {
            firstName: firstName,
            lastName: lastName
        }
    }

    var personActions = {
        getFullname() {
            return this.firstName + ' ' + this.lastName;
        }
    }

    let person_333 = createPerson2('John', 'Doe');
    let person_444 = createPerson2('Jane', 'Doe');
    person_333.getFullname = personActions.getFullname;
    person_444.getFullname = personActions.getFullname;

    console.log(person_333.getFullname())
    console.log(person_444.getFullname())

    // Su dung Object.create de tao cho tien
    var personActions1a = {
        getFullname() {
            return this.firstName + ' ' + this.lastName;
        }
    };

    function createPerson1a(firstName, lastName) {
        let person = Object.create(personActions1a);
         person.firstName = firstName;
         person.lastName = lastName;
         return person;
    }

    let person1a_1 = createPerson1a('John', 'Doe');
    let person1a_2 = createPerson1a('Jane', 'Doe');
    console.log(person1a_1.getFullname())
    console.log(person1a_2.getFullname())

    let person_d = {
        firstName: 'John',
        lastName: 'Doe'
    }
    let firstName_d = person_d.firstName;
    let lastName_d = person_d.lastName;

    // su dungj object destructuring trong ES6
    let { firstName: fname, lastName: lname } = person_d;
    console.log(fname)
    console.log(lname)

    // let { firstName, lastName} = person_d;


    //
    // ({ firstname, lastName } = person_d)
    // console.log(firstName)
    // console.log(lastName)

    let person_e = {
        firstName: 'John',
        lastName: 'Doe',
        currentAge: 28
    };

    let { firstName, lastName, middleName = '', currentAge = 18 } = person_e;
    console.log(firstName)
    console.log(lastName)
    console.log(middleName)
    console.log(currentAge)


    function getPerson1() {
        return null;
    }

    let {firstName1, lastName1 } = getPerson1() || {}; //tranh truong hop null
    console.log(firstName1, lastName1)

    let employee11 = {
        id: 1001,
        name11: {
            firstName11: 'John',
            lastName11: 'Doe'
        }
    };

    let {
        name11: {
            firstName11,
            lastName11
        }
    } = employee11;
    console.log(firstName11)
    console.log(lastName11)

    let display1 = (person) => console.log(`${person.firstName} ${person.lastName}`);

    let person1b = {
        firstName: 'John',
        lastName: 'Doe'
    }

    display1(person1b)

    let display2 = ({firstName, lastName}) => console.log(`${firstName} ${lastName}`);

    let person2b = {
        firstName: 'John',
        lastName: 'Doe'
    }

    display2(person2b)
    //

    function getUser(id) {
        if (id <= 0) {
            return null;
        }
        return  {
            id: id,
            username: 'admin',
            profile: {
                avatar: '/avatar.png',
                language: 'English'
            }
        }
    }

    let user1 = getUser(1);
    let profile1 = user1 && user1.profile;
    console.log(profile1)
    //ES2020
    let user2 = getUser(2);
    let profile2 = user2 ?. profile;
    console.log(profile2)
    let user3 = getUser(3);
    let profile3 = (user3 !== null || user3 !== undefined) ? user3.profile : undefined;
    console.log(profile3)

    //
    let user44 = getUser(-1);
    let avatar44 = user44 ?. profile ?. avatar;
    console.log(avatar44)

    let defaultProfile = {
        default: '/default.png',
        language: 'English'
    };
    let user55 = getUser(2);
    let profile55 = user55 ?. profile ?? defaultProfile;
    console.log(profile55)

    let file1 = {
        read() {
            return 'file content';
        },
        write(content) {
            console.log(`Writing ${content} to file...`);
            return true;
        }
    }

    let data1 = file1.read();
    console.log(data1)
    let compressdData = file1.compress ?. ();
    console.log(compressdData)


    function getUser2(id, callback) {
        let user = {
            id: id,
            username: 'admin'
        }

        // if (callback) {
        //     callback(user);
        // }
        callback ?. (user);
        return user;
    }

    // Truoc ES6
    function createMachine(name, status) {
        return {
            name: name,
            status: status
        }
    }

    // ES6:
    function createMachine1(name, status) {
        return {
            name,
            status
        }
    }

    let abc1 = createMachine1(1, 2);
    console.log(abc1)

    let name_aa = 'Computer';
    let status_aa = 'On';
    let machine_aa = {
        name_aa, status_aa
    }
    console.log(machine_aa)

    // Computed property name, su dung [] de co the tinh toan ten thuoc tinh trong obj
    let name_bb = 'machine name';
    let machine_bb = {
        [name_bb]: 'server',
        'machine hours': 10000
    };
    console.log(machine_bb[name_bb]);
    console.log(machine_bb['machine hours'])
    console.log(machine_bb)

    let prefix_cc = 'machine';
    let machine_cc = {
        [prefix_cc + ' name']: 'server',
        [prefix_cc + ' hours']: 10000
    };
    console.log(machine_cc['machine name']);

    // trc es6
    let server_aa = {
        name: 'Server',
        restart: function () {
            console.log("The" + this.name + " is restarting...");
        },
        'starting up': function () {
            console.log('dsadasdsa')
        }
    }
    console.log(server_aa['starting up']())

    //es6
    let server_bb = {
        name: 'Server',
        restart() {
            console.log("The" + this.name + " is restarting...");
        },
    }

    let server_cc = {
        name: 'Server',
        restart() {
            console.log("This" + this.name + " is restarting....")
        },
        'starting up'() {
            console.log("The " + this.name + " is starting up!");
        }
    }

    //trc es6
    function PersonAAA(name) {
        this.name = name;
    }

    PersonAAA.prototype.getName = function() {
        return this.name;
    }

    var john = new PersonAAA('John Doe');

    console.log(john.getName())
    console.log(john instanceof PersonAAA);
    console.log(john instanceof Object);

    // es6
    class PersonBBB {
        constructor(name) {
            this.name = name;
        }
        getName() {
            return this.name;
        }
    }
    let john_bbb = new PersonBBB('John Doe');
    let name_bbb = john_bbb.getName();
    console.log(name_bbb)
    console.log(typeof PersonBBB)
    console.log(john_bbb instanceof PersonBBB)
    console.log(john_bbb instanceof Object)

    // let person_c = new PersonC('dsads');
    class PersonC {
        constructor(name) {
            this.name = name;
        }
        getName() {
            return this.name;
        }
    }
    // let person_c1 = PersonC('name');

    class PersonDD {
        constructor(name) {
            this.name = name;
        }
    }

    let person_dd = new PersonDD('John');
    console.log(person_dd.name)

    // getter va setter trc es6
    class PersonEE {
        constructor(name) {
            this.setName(name);
        }

        getName() {
            return this.name;
        }

        setName(newName) {
            newName = newName.trim();
            if (newName === '') {
                throw 'The name cannot be empty'
            }
            this.name = newName;
        }
    }

    let person_ee = new PersonEE('Jane Doe');
    console.log(person_ee)

    person_ee.setName('abc');
    console.log(person_ee)

    //ES6
    class PersonFF {
        constructor(name) {
            this.name = name;
        }

        // dat la _name de tranh xung dot voi ten ham
        // ten setter va getter trung ten thuoc tinh
        get name() {
            return this._name;
        }

        set name(newName) {
            newName = newName.trim();
            if (newName === '') {
                throw 'The name cannot be empty'
            }
            this._name = newName;
        }
    }
    let person_ff1 = new PersonFF('manhnv');
    let person_name = person_ff1.name;
    console.log(person_ff1)
    console.log(person_name)

    person_ff1.name = '1';
    console.log(person_ff1.name)


    class PersonGG1 {
        constructor(name) {
            this._name = name;
            // this.name = name;
        }

        get name() {
            return this._name;
        }
    }
    let person_gg1 = new PersonGG1('def');
    console.log(person_gg1)
    console.log(person_gg1.name)

    person_gg1.name = 'ghi';
    console.log(person_gg1.name)

    let meeting = {
        attendees: [],
        add(attendee) {
            console.log(`${attendee} joined the meeting`);
            this.attendees.push(attendee);
            return this;
        },
        get lastest() {
            let count = this.attendees.length;
            return count == 0 ? undefined : this.attendees[count - 1];
        },
        // set attendees123(string) {
        //     this.attendees = string;
        // }
    };

    meeting.add('John').add('Jane').add('Peter');
    console.log(`The latest attendee is ${meeting.lastest}`);
    // meeting.attendees = ['1', '2', '3'];
    // meeting.attendees = [1, 2];
    // meeting.attendees123;
    // meeting.attendees('dsadsa')
    console.log(meeting.attendees)
</script>

<!--<script src="script.js" defer async></script>-->
<input id="fullname" type="text">


